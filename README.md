# Fuzzy Logic System for Building Repair Urgency Assessment

![Python](https://img.shields.io/badge/Python-3.11-blue.svg)
![Library](https://img.shields.io/badge/Library-scikit--fuzzy-orange.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)

This project implements a Fuzzy Logic Inference System to determine the urgency of action required for building repairs. The system evaluates multiple factors related to a building's condition and environment to produce a numerical score indicating the priority level for intervention.

## Table of Contents
- [Project Overview](#-project-overview)
- [What is Fuzzy Logic?](#-what-is-fuzzy-logic)
- [System Architecture](#Ô∏è-system-architecture)
  - [Input Variables (Antecedents)](#input-variables-antecedents)
  - [Output Variable (Consequent)](#output-variable-consequent)
  - [Membership Functions](#membership-functions)
  - [Fuzzy Rules](#fuzzy-rules)
- [Technical Implementation](#-technical-implementation)
- [Inference Mechanisms](#-inference-mechanisms)
  - [Forward Chaining](#forward-chaining)
  - [Backward Chaining](#backward-chaining)
- [How to Run This Project](#-how-to-run-this-project)
- [Example Scenarios](#-example-scenarios)
- [Visualization](#-visualization)

## Project Overview

In civil engineering and urban management, prioritizing building repairs is a complex decision-making process. Factors like structural integrity, public safety, and accessibility are often imprecise and hard to quantify with crisp numerical values. This project leverages **Fuzzy Logic** to handle this uncertainty and provide a more nuanced, human-like reasoning system.

The system takes six input variables, processes them through a set of "if-then" rules, and outputs a single value representing the **Urgency of Action**.

## What is Fuzzy Logic?

Fuzzy Logic is a form of many-valued logic that deals with reasoning that is approximate rather than fixed and exact. Unlike traditional boolean logic (where things are either `true` or `false`), fuzzy logic allows for degrees of truth. For example, a building isn't just "damaged" or "not damaged"; it can be "slightly damaged," "moderately damaged," or "highly damaged." This approach is ideal for modeling complex systems where human expertise and linguistic terms are involved.

## üèóSystem Architecture

The core of this project is a Mamdani-style Fuzzy Inference System built using the `scikit-fuzzy` library.

### Input Variables (Antecedents)

The system considers the following six factors to assess a building's state:
1.  **Structural Damage (`Damage`)**:
    -   **Universe**: 0 to 10 (from no damage to critical damage).
    -   **Fuzzy Sets**: `low`, `medium`, `high`.
2.  **Neglect Level (`Neglect`)**:
    -   **Universe**: 0 to 10 (from well-maintained to severely neglected).
    -   **Fuzzy Sets**: `low`, `medium`, `high`.
3.  **Material Degradation (`Degradation`)**:
    -   **Universe**: 0 to 10 (from minor wear to severe material failure).
    -   **Fuzzy Sets**: `low`, `medium`, `high`.
4.  **Hazard Level (`Hazard`)**:
    -   **Universe**: 0 to 10 (from no public hazard to immediate danger).
    -   **Fuzzy Sets**: `low`, `medium`, `high`.
5.  **Age of Building (`Age`)**:
    -   **Universe**: 0 to 100 years.
    -   **Fuzzy Sets**: `new`, `medium`, `old`.
6.  **Access to Building (`Access`)**:
    -   **Universe**: 0 to 10 (from easy to difficult access for repairs).
    -   **Fuzzy Sets**: `easy`, `medium`, `difficult`.

### Output Variable (Consequent)

The system produces a single output that quantifies the repair priority:
-   **Urgency of Action (`Urgency`)**:
    -   **Universe**: 0 to 10 (from least urgent to most urgent).
    -   **Fuzzy Sets**: `low`, `medium`, `high`.

### Membership Functions

For simplicity and effectiveness, **Triangular Membership Functions (`trimf`)** are used to define the fuzzy sets for all variables. These functions map each crisp input value to a degree of membership (between 0 and 1) for each fuzzy set.

![Membership Functions Visualization](images/membership_functions.png)
*(This image is a composite of the plots generated by the code to illustrate the membership functions.)*

### Fuzzy Rules

The "brain" of the system is a set of expert rules that connect the inputs to the output. These rules are formulated in a human-readable "if-then" format.

**Key Rules Implemented:**
-   `RULE 1`: **IF** `Damage` is high **AND** `Neglect` is high **AND** `Degradation` is high **AND** `Hazard` is high, **THEN** `Urgency` is high.
-   `RULE 2`: **IF** `Damage` is high **AND** `Neglect` is high **AND** `Degradation` is medium **AND** `Hazard` is medium, **THEN** `Urgency` is high.
-   `RULE 3`: **IF** `Damage` is medium **AND** `Neglect` is medium **AND** `Degradation` is medium **AND** `Hazard` is medium, **THEN** `Urgency` is medium.
-   `RULE 4`: **IF** `Damage` is low **AND** `Neglect` is low **AND** `Degradation` is low **AND** `Hazard` is low, **THEN** `Urgency` is low.
-   `RULE 5`: **IF** `Hazard` is high **AND** `Access` is difficult, **THEN** `Urgency` is high.
-   `RULE 6`: **IF** `Age` is old **AND** `Damage` is high, **THEN** `Urgency` is high.
-   `RULE 7`: **IF** `Neglect` is high **AND** `Damage` is medium, **THEN** `Urgency` is medium.

## üíª Technical Implementation

The system is implemented in Python using the `scikit-fuzzy` library. The process involves:
1.  **Fuzzification**: Crisp input values (e.g., `Damage = 9`) are converted into fuzzy values by determining their degree of membership in the relevant fuzzy sets (e.g., `Damage` is 0.8 `high` and 0.2 `medium`).
2.  **Rule Evaluation (Inference)**: The fuzzy rules are applied using the fuzzified inputs. The `AND` operator is typically handled by taking the minimum of the membership values, and the `OR` operator by taking the maximum.
3.  **Aggregation**: The results from all fired rules are combined into a single fuzzy set for the output variable.
4.  **Defuzzification**: The aggregated fuzzy output is converted back into a single crisp number (e.g., `Urgency = 6.05`). This project uses the **Centroid** method for defuzzification, which calculates the center of gravity of the fuzzy output area.

## ‚öôInference Mechanisms

The project demonstrates two fundamental reasoning mechanisms used in expert systems:

### Forward Chaining
This is a data-driven approach. We provide a set of known facts (the input values) and the system works "forward" through the rules to derive a conclusion (the output urgency). This is the primary simulation method used in the notebook to calculate the urgency score for a given set of conditions.

### Backward Chaining
This is a goal-driven approach. We start with a hypothesis (e.g., "The urgency is high") and the system works "backward" to find the evidence (input conditions) that supports this conclusion. The `backward_chaining_test` function simulates this by suggesting the input conditions that would lead to a desired urgency level.

## How to Run This Project

### Prerequisites
- Python 3.x
- Jupyter Notebook or a Python IDE

### Setup
1. Clone this repository to your local machine.
2. Install the necessary library:
   ```bash
   pip install scikit-fuzzy
   ```
3. Open the Jupyter Notebook file (`.ipynb`) and run the cells sequentially. The code will define the fuzzy system, run the simulations, and generate visualizations.

##  Example Scenarios

The notebook includes a forward chaining simulation with three test cases to demonstrate how the system responds to different levels of risk:
-   **Test Case 1 (High Risk)**: A critically damaged, old, and hazardous building.
    -   **Inputs**: `Damage=9`, `Neglect=8`, `Degradation=7`, `Hazard=9`, `Age=70`, `Access=4`.
    -   **Output Urgency**: `6.05` (High-Medium Urgency).
-   **Test Case 2 (Moderate Risk)**: A building with moderate issues.
    -   **Inputs**: `Damage=5`, `Hazard=5`, `Neglect=4`, `Degradation=5`, `Age=30`, `Access=6`.
    -   **Output Urgency**: `5.0` (Medium Urgency).
-   **Test Case 3 (Low Risk)**: A relatively new and well-maintained building with minor issues.
    -   **Inputs**: `Damage=2`, `Hazard=3`, `Neglect=3`, `Degradation=2`, `Age=15`, `Access=8`.
    -   **Output Urgency**: `4.52` (Low-Medium Urgency).

## Visualization
The notebook automatically generates plots for each variable's membership functions, as well as a visualization of the final defuzzification process for a given set of inputs. These plots are crucial for understanding and tuning the behavior of the fuzzy system.
